/* -------------------- Modal 內大按鈕優化 - 修正居中與手機溢出 -------------------- */
.modal {
    z-index: 9999; 
    display: none; 
    position: fixed; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    /* 關鍵修正 1: 使用 Flexbox 確保內容在任何尺寸下都完美居中 */
    display: flex; 
    justify-content: center;
    align-items: center;
    overflow: auto; /* 允許內容過高時滾動 */
    background-color: rgba(0,0,0,0.8);
}

.modal-content {
    background-color: #111111;
    /* 移除所有絕對定位和 transform */
    position: relative; 
    
    margin: 20px auto; /* 確保內容不會頂到頂部，並在 Modal 容器內居中 */
    width: 90%; 
    max-width: 450px; 
    padding: 20px; 
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(40, 167, 69, 0.8);
}

/* 修正 Modal 內部的輸入欄位佈局 */
.input-grid {
    display: grid;
    grid-template-columns: 1fr; /* 單欄佈局 */
    gap: 15px;
    margin-top: 20px;
}
.modal-content label {
    text-align: left;
    margin-bottom: -10px;
    font-weight: bold;
    color: var(--text-color-light);
}

.modal-content input, 
.modal-content select {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--accent-color);
    border-radius: 4px;
    background-color: #000;
    color: var(--text-color-light);
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    margin-top: 25px;
}

.modal-save-btn { /* ... 樣式不變 ... */ }
.modal-cancel-btn { /* ... 樣式不變 ... */ }


/* ============================================= */
/* 修正: 響應式設計 (手機畫面優化) - 確保 Modal 在手機上不溢出 */
/* ============================================= */

@media (max-width: 768px) {
    /* ... (其他響應式佈局修正保持不變) ... */
    
    .modal-content {
        /* 關鍵修正 2: 確保手機上 Modal 內容寬度不會超過螢幕 */
        width: 95%; 
        min-width: 300px;
        padding: 15px;
        margin: 10px auto; /* 確保在 Modal Flex 容器內居中 */
    }
    
    .modal-actions {
        flex-direction: column; 
        gap: 10px;
    }
    .modal-actions button {
        width: 100%;
    }
    /* ... (其餘媒體查詢樣式保持不變) ... */
}
